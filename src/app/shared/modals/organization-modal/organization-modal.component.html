<!-- Modal -->
<div class="shared-modal animated fadeIn faster" id="exampleModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog animated fadeIn faster" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="text-muted">
          Nueva Organización
        </h4>
      </div>
      <div class="modal-body">
        <div class="card-body">
          <div>
            <form [formGroup]="form" (ngSubmit)="createOrganization()">
              <div class="card-subtitle">
                <span>Datos del propietario</span>
              </div>
              <hr>
              <div class="form-group">
                <label class="text-muted">ID</label>
                <input type="text" class="form-control" name="user" formControlName="user"
                  placeholder="name@example.com" readonly>
              </div>
              <div class="form-group">
                <label class="text-muted">Propietario</label>
                <input type="text" class="form-control" name="user_name" formControlName="user_name"
                  placeholder="name@example.com" readonly>
              </div>
              <br>
              <div class="card-subtitle">
                <span>Datos de la organización</span>
              </div>
              <hr>
              <div class="form-group">
                <label class="text-muted">Nombre de la organización</label>
                <input type="text" (keyup)="validateName()" class="form-control" name="name" formControlName="name"
                  placeholder="Escriba el nombre de su nueva Organización"
                  [ngClass]="{'is-valid': disponible && form.controls.name.valid, 'is-invalid': !disponible || form.controls.name.invalid}"
                  autofocus autocomplete="off">
                <div class="valid-feedback" *ngIf="disponible">
                  El nombre está disponible
                </div>
                <div class="invalid-feedback" *ngIf="!disponible">
                  Ya es propietario o miembro de una organización con ese nombre
                </div>
                <div class="invalid-feedback" *ngIf="form.controls.name.invalid">
                  El nombre es obligatorio
                </div>
              </div>
              <div class="form-group mt-5">
                <div class="col-md-12 d-flex justify-content-end">
                  <button type="button" class="btn btn-sm btn-rounded btn-danger mr-3" data-dismiss="modal"
                    (click)="closeModal()">Cancelar</button>
                  <button type="submit" [ngClass]="{'disabled': !disponible || form.controls.name.invalid}"
                    class="btn btn-sm btn-rounded btn-success d-flex justify-content-center align-items-center">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i> Crear mi organización
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
