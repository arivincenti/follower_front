<div class="contenedor">

  <div class="organization-loader">
    <mat-spinner diameter="50" *ngIf="organizationLoading$ | async as organizationLoading"></mat-spinner>
  </div>

  <div class="organization-button-back">
    <button mat-button color="warn" (click)="backToLastPage()">
      <mat-icon>arrow_back</mat-icon>
      Ir al inicio
    </button>
  </div>

  <ng-container *ngIf="organization$ | async as organization">
    <div class="organization-profile background-section">
      <div class="organization-profile-header">
        <div class="organization-profile-header-title">
          <span>
            {{organization.name | titlecase}}
          </span>
        </div>
        <div class="organization-profile-header-subtitle">
          <span>Creada {{organization.created_at | time}}</span>
        </div>
        <div class="organization-profile-header-button">
          <button [matMenuTriggerFor]="menu" mat-icon-button *ngIf="!organization.deleted_at">
            <mat-icon matTooltip="Opciones" matTooltipPosition="above">more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="updateOrganization(organization)">Editar nombre</button>
          </mat-menu>
        </div>
      </div>
    </div>
    <div class="organization-children background-section">
      <div class="organization-children-buttons">
        <div class="button">
          <button mat-icon-button [routerLink]="['./members']" routerLinkActive="active">
            <mat-icon matTooltip="Miembros de la organización" matTooltipPosition="above">
              supervised_user_circle</mat-icon>
          </button>
        </div>
        <div class="button">
          <button mat-icon-button [routerLink]="['./areas']" routerLinkActive="active">
            <mat-icon matTooltip="Áreas de la organización" matTooltipPosition="above">
              bookmarks</mat-icon>
          </button>
        </div>
      </div>

      <div class="organization-children-divider">
        <mat-divider></mat-divider>
      </div>

      <div class="organization-children-container">
        <router-outlet></router-outlet>
      </div>
    </div>
  </ng-container>
</div>